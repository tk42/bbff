{"name":"db","desc":"","tables":[{"name":"hdb_catalog.hdb_version","type":"BASE TABLE","comment":"","columns":[{"name":"hasura_uuid","type":"uuid","nullable":false,"default":"hdb_catalog.gen_hasura_uuid()","comment":""},{"name":"version","type":"text","nullable":false,"default":null,"comment":""},{"name":"upgraded_on","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"cli_state","type":"jsonb","nullable":false,"default":"'{}'::jsonb","comment":""},{"name":"console_state","type":"jsonb","nullable":false,"default":"'{}'::jsonb","comment":""}],"indexes":[{"name":"hdb_version_pkey","def":"CREATE UNIQUE INDEX hdb_version_pkey ON hdb_catalog.hdb_version USING btree (hasura_uuid)","table":"hdb_catalog.hdb_version","columns":["hasura_uuid"],"comment":""},{"name":"hdb_version_one_row","def":"CREATE UNIQUE INDEX hdb_version_one_row ON hdb_catalog.hdb_version USING btree (((version IS NOT NULL)))","table":"hdb_catalog.hdb_version","columns":["expr"],"comment":""}],"constraints":[{"name":"hdb_version_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (hasura_uuid)","table":"hdb_catalog.hdb_version","referenced_table":"","columns":["hasura_uuid"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"hdb_catalog.hdb_metadata","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":null,"comment":""},{"name":"metadata","type":"json","nullable":false,"default":null,"comment":""},{"name":"resource_version","type":"integer","nullable":false,"default":"1","comment":""}],"indexes":[{"name":"hdb_metadata_pkey","def":"CREATE UNIQUE INDEX hdb_metadata_pkey ON hdb_catalog.hdb_metadata USING btree (id)","table":"hdb_catalog.hdb_metadata","columns":["id"],"comment":""},{"name":"hdb_metadata_resource_version_key","def":"CREATE UNIQUE INDEX hdb_metadata_resource_version_key ON hdb_catalog.hdb_metadata USING btree (resource_version)","table":"hdb_catalog.hdb_metadata","columns":["resource_version"],"comment":""}],"constraints":[{"name":"hdb_metadata_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"hdb_catalog.hdb_metadata","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"hdb_metadata_resource_version_key","type":"UNIQUE","def":"UNIQUE (resource_version)","table":"hdb_catalog.hdb_metadata","referenced_table":"","columns":["resource_version"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"hdb_catalog.hdb_action_log","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"hdb_catalog.gen_hasura_uuid()","comment":""},{"name":"action_name","type":"text","nullable":true,"default":null,"comment":""},{"name":"input_payload","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"request_headers","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"session_variables","type":"jsonb","nullable":false,"default":null,"comment":""},{"name":"response_payload","type":"jsonb","nullable":true,"default":null,"comment":""},{"name":"errors","type":"jsonb","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"now()","comment":""},{"name":"response_received_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"status","type":"text","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"hdb_action_log_pkey","def":"CREATE UNIQUE INDEX hdb_action_log_pkey ON hdb_catalog.hdb_action_log USING btree (id)","table":"hdb_catalog.hdb_action_log","columns":["id"],"comment":""}],"constraints":[{"name":"hdb_action_log_status_check","type":"CHECK","def":"CHECK ((status = ANY (ARRAY['created'::text, 'processing'::text, 'completed'::text, 'error'::text])))","table":"hdb_catalog.hdb_action_log","referenced_table":"","columns":["status"],"referenced_columns":[],"comment":""},{"name":"hdb_action_log_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"hdb_catalog.hdb_action_log","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"hdb_catalog.hdb_cron_events","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"text","nullable":false,"default":"hdb_catalog.gen_hasura_uuid()","comment":""},{"name":"trigger_name","type":"text","nullable":false,"default":null,"comment":""},{"name":"scheduled_time","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"status","type":"text","nullable":false,"default":"'scheduled'::text","comment":""},{"name":"tries","type":"integer","nullable":false,"default":"0","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""},{"name":"next_retry_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"hdb_cron_events_pkey","def":"CREATE UNIQUE INDEX hdb_cron_events_pkey ON hdb_catalog.hdb_cron_events USING btree (id)","table":"hdb_catalog.hdb_cron_events","columns":["id"],"comment":""},{"name":"hdb_cron_event_status","def":"CREATE INDEX hdb_cron_event_status ON hdb_catalog.hdb_cron_events USING btree (status)","table":"hdb_catalog.hdb_cron_events","columns":["status"],"comment":""},{"name":"hdb_cron_events_unique_scheduled","def":"CREATE UNIQUE INDEX hdb_cron_events_unique_scheduled ON hdb_catalog.hdb_cron_events USING btree (trigger_name, scheduled_time) WHERE (status = 'scheduled'::text)","table":"hdb_catalog.hdb_cron_events","columns":["scheduled_time","trigger_name"],"comment":""}],"constraints":[{"name":"valid_status","type":"CHECK","def":"CHECK ((status = ANY (ARRAY['scheduled'::text, 'locked'::text, 'delivered'::text, 'error'::text, 'dead'::text])))","table":"hdb_catalog.hdb_cron_events","referenced_table":"","columns":["status"],"referenced_columns":[],"comment":""},{"name":"hdb_cron_events_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"hdb_catalog.hdb_cron_events","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"hdb_catalog.hdb_cron_event_invocation_logs","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"text","nullable":false,"default":"hdb_catalog.gen_hasura_uuid()","comment":""},{"name":"event_id","type":"text","nullable":true,"default":null,"comment":""},{"name":"status","type":"integer","nullable":true,"default":null,"comment":""},{"name":"request","type":"json","nullable":true,"default":null,"comment":""},{"name":"response","type":"json","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""}],"indexes":[{"name":"hdb_cron_event_invocation_logs_pkey","def":"CREATE UNIQUE INDEX hdb_cron_event_invocation_logs_pkey ON hdb_catalog.hdb_cron_event_invocation_logs USING btree (id)","table":"hdb_catalog.hdb_cron_event_invocation_logs","columns":["id"],"comment":""},{"name":"hdb_cron_event_invocation_event_id","def":"CREATE INDEX hdb_cron_event_invocation_event_id ON hdb_catalog.hdb_cron_event_invocation_logs USING btree (event_id)","table":"hdb_catalog.hdb_cron_event_invocation_logs","columns":["event_id"],"comment":""}],"constraints":[{"name":"hdb_cron_event_invocation_logs_event_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (event_id) REFERENCES hdb_catalog.hdb_cron_events(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"hdb_catalog.hdb_cron_event_invocation_logs","referenced_table":"hdb_cron_events","columns":["event_id"],"referenced_columns":["id"],"comment":""},{"name":"hdb_cron_event_invocation_logs_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"hdb_catalog.hdb_cron_event_invocation_logs","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"hdb_catalog.hdb_scheduled_events","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"text","nullable":false,"default":"hdb_catalog.gen_hasura_uuid()","comment":""},{"name":"webhook_conf","type":"json","nullable":false,"default":null,"comment":""},{"name":"scheduled_time","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"retry_conf","type":"json","nullable":true,"default":null,"comment":""},{"name":"payload","type":"json","nullable":true,"default":null,"comment":""},{"name":"header_conf","type":"json","nullable":true,"default":null,"comment":""},{"name":"status","type":"text","nullable":false,"default":"'scheduled'::text","comment":""},{"name":"tries","type":"integer","nullable":false,"default":"0","comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""},{"name":"next_retry_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""},{"name":"comment","type":"text","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"hdb_scheduled_events_pkey","def":"CREATE UNIQUE INDEX hdb_scheduled_events_pkey ON hdb_catalog.hdb_scheduled_events USING btree (id)","table":"hdb_catalog.hdb_scheduled_events","columns":["id"],"comment":""},{"name":"hdb_scheduled_event_status","def":"CREATE INDEX hdb_scheduled_event_status ON hdb_catalog.hdb_scheduled_events USING btree (status)","table":"hdb_catalog.hdb_scheduled_events","columns":["status"],"comment":""}],"constraints":[{"name":"valid_status","type":"CHECK","def":"CHECK ((status = ANY (ARRAY['scheduled'::text, 'locked'::text, 'delivered'::text, 'error'::text, 'dead'::text])))","table":"hdb_catalog.hdb_scheduled_events","referenced_table":"","columns":["status"],"referenced_columns":[],"comment":""},{"name":"hdb_scheduled_events_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"hdb_catalog.hdb_scheduled_events","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"hdb_catalog.hdb_scheduled_event_invocation_logs","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"text","nullable":false,"default":"hdb_catalog.gen_hasura_uuid()","comment":""},{"name":"event_id","type":"text","nullable":true,"default":null,"comment":""},{"name":"status","type":"integer","nullable":true,"default":null,"comment":""},{"name":"request","type":"json","nullable":true,"default":null,"comment":""},{"name":"response","type":"json","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""}],"indexes":[{"name":"hdb_scheduled_event_invocation_logs_pkey","def":"CREATE UNIQUE INDEX hdb_scheduled_event_invocation_logs_pkey ON hdb_catalog.hdb_scheduled_event_invocation_logs USING btree (id)","table":"hdb_catalog.hdb_scheduled_event_invocation_logs","columns":["id"],"comment":""}],"constraints":[{"name":"hdb_scheduled_event_invocation_logs_event_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (event_id) REFERENCES hdb_catalog.hdb_scheduled_events(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"hdb_catalog.hdb_scheduled_event_invocation_logs","referenced_table":"hdb_scheduled_events","columns":["event_id"],"referenced_columns":["id"],"comment":""},{"name":"hdb_scheduled_event_invocation_logs_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"hdb_catalog.hdb_scheduled_event_invocation_logs","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"hdb_catalog.hdb_schema_notifications","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":null,"comment":""},{"name":"notification","type":"json","nullable":false,"default":null,"comment":""},{"name":"resource_version","type":"integer","nullable":false,"default":"1","comment":""},{"name":"instance_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":"now()","comment":""}],"indexes":[{"name":"hdb_schema_notifications_pkey","def":"CREATE UNIQUE INDEX hdb_schema_notifications_pkey ON hdb_catalog.hdb_schema_notifications USING btree (id)","table":"hdb_catalog.hdb_schema_notifications","columns":["id"],"comment":""}],"constraints":[{"name":"hdb_schema_notifications_id_check","type":"CHECK","def":"CHECK ((id = 1))","table":"hdb_catalog.hdb_schema_notifications","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"hdb_schema_notifications_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"hdb_catalog.hdb_schema_notifications","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.agents","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('agents_id_seq'::regclass)","comment":""},{"name":"name","type":"text","nullable":false,"default":null,"comment":""},{"name":"email","type":"text","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"agents_pkey","def":"CREATE UNIQUE INDEX agents_pkey ON public.agents USING btree (id)","table":"public.agents","columns":["id"],"comment":""}],"constraints":[{"name":"agents_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.agents","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.authors","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('authors_id_seq'::regclass)","comment":""},{"name":"name","type":"text","nullable":false,"default":null,"comment":""},{"name":"website","type":"text","nullable":true,"default":null,"comment":""},{"name":"agent_id","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"authors_pkey","def":"CREATE UNIQUE INDEX authors_pkey ON public.authors USING btree (id)","table":"public.authors","columns":["id"],"comment":""}],"constraints":[{"name":"authors_agent_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (agent_id) REFERENCES agents(id) ON DELETE RESTRICT","table":"public.authors","referenced_table":"agents","columns":["agent_id"],"referenced_columns":["id"],"comment":""},{"name":"authors_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.authors","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.books","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('books_id_seq'::regclass)","comment":""},{"name":"title","type":"text","nullable":false,"default":null,"comment":""},{"name":"description","type":"text","nullable":false,"default":null,"comment":""},{"name":"cover","type":"text","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"books_pkey","def":"CREATE UNIQUE INDEX books_pkey ON public.books USING btree (id)","table":"public.books","columns":["id"],"comment":""}],"constraints":[{"name":"books_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.books","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.book_authors","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('book_authors_id_seq'::regclass)","comment":""},{"name":"book_id","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"author_id","type":"bigint","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"book_authors_pkey","def":"CREATE UNIQUE INDEX book_authors_pkey ON public.book_authors USING btree (id)","table":"public.book_authors","columns":["id"],"comment":""},{"name":"book_authors_book_id_author_id_key","def":"CREATE UNIQUE INDEX book_authors_book_id_author_id_key ON public.book_authors USING btree (book_id, author_id)","table":"public.book_authors","columns":["author_id","book_id"],"comment":""}],"constraints":[{"name":"book_authors_author_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (author_id) REFERENCES authors(id) ON DELETE CASCADE","table":"public.book_authors","referenced_table":"authors","columns":["author_id"],"referenced_columns":["id"],"comment":""},{"name":"book_authors_book_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE","table":"public.book_authors","referenced_table":"books","columns":["book_id"],"referenced_columns":["id"],"comment":""},{"name":"book_authors_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.book_authors","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"book_authors_book_id_author_id_key","type":"UNIQUE","def":"UNIQUE (book_id, author_id)","table":"public.book_authors","referenced_table":"","columns":["book_id","author_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""}],"relations":[{"table":"hdb_catalog.hdb_cron_event_invocation_logs","columns":["event_id"],"parent_table":"hdb_catalog.hdb_cron_events","parent_columns":["id"],"def":"FOREIGN KEY (event_id) REFERENCES hdb_catalog.hdb_cron_events(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"hdb_catalog.hdb_scheduled_event_invocation_logs","columns":["event_id"],"parent_table":"hdb_catalog.hdb_scheduled_events","parent_columns":["id"],"def":"FOREIGN KEY (event_id) REFERENCES hdb_catalog.hdb_scheduled_events(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.authors","columns":["agent_id"],"parent_table":"public.agents","parent_columns":["id"],"def":"FOREIGN KEY (agent_id) REFERENCES agents(id) ON DELETE RESTRICT","virtual":false},{"table":"public.book_authors","columns":["author_id"],"parent_table":"public.authors","parent_columns":["id"],"def":"FOREIGN KEY (author_id) REFERENCES authors(id) ON DELETE CASCADE","virtual":false},{"table":"public.book_authors","columns":["book_id"],"parent_table":"public.books","parent_columns":["id"],"def":"FOREIGN KEY (book_id) REFERENCES books(id) ON DELETE CASCADE","virtual":false}],"functions":[{"name":"hdb_catalog.gen_hasura_uuid","return_type":"uuid","arguments":"","type":"FUNCTION"}],"driver":{"name":"postgres","database_version":"PostgreSQL 15.1 (Debian 15.1-1.pgdg110+1) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 10.2.1-6) 10.2.1 20210110, 64-bit","meta":{"current_schema":"public","search_paths":["\"$user\"","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
